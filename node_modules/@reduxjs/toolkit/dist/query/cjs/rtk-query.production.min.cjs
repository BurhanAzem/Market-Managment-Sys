"use strict";var me=Object.defineProperty;var ut=Object.getOwnPropertyDescriptor;var yt=Object.getOwnPropertyNames;var dt=Object.prototype.hasOwnProperty;var pt=(e,t)=>{for(var p in t)me(e,p,{get:t[p],enumerable:!0})},ct=(e,t,p,Q)=>{if(t&&typeof t=="object"||typeof t=="function")for(let d of yt(t))!dt.call(e,d)&&d!==p&&me(e,d,{get:()=>t[d],enumerable:!(Q=ut(t,d))||Q.enumerable});return e};var lt=e=>ct(me({},"__esModule",{value:!0}),e);var Dt={};pt(Dt,{QueryStatus:()=>se,_NEVER:()=>We,buildCreateApi:()=>le,copyWithStructuralSharing:()=>Z,coreModule:()=>fe,coreModuleName:()=>ae,createApi:()=>st,defaultSerializeQueryArgs:()=>oe,fakeBaseQuery:()=>$e,fetchBaseQuery:()=>ke,retry:()=>Pe,setupListeners:()=>ve,skipToken:()=>ie});module.exports=lt(Dt);var se=(d=>(d.uninitialized="uninitialized",d.pending="pending",d.fulfilled="fulfilled",d.rejected="rejected",d))(se||{});function Qe(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var r=require("@reduxjs/toolkit");var Re=r.isPlainObject;function Z(e,t){if(e===t||!(Re(e)&&Re(t)||Array.isArray(e)&&Array.isArray(t)))return t;let p=Object.keys(t),Q=Object.keys(e),d=p.length===Q.length,S=Array.isArray(t)?[]:{};for(let D of p)S[D]=Z(e[D],t[D]),d&&(d=e[D]===S[D]);return d?e:S}function j(e){let t=0;for(let p in e)t++;return t}var ge=e=>[].concat(...e);function xe(e){return new RegExp("(^|:)//").test(e)}function Se(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function W(e){return e!=null}function Ae(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var ft=e=>e.replace(/\/$/,""),mt=e=>e.replace(/^\//,"");function De(e,t){if(!e)return t;if(!t)return e;if(xe(t))return t;let p=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=ft(e),t=mt(t),`${e}${p}${t}`}function be(e,t,p){return e.has(t)?e.get(t):e.set(t,p).get(t)}var Ee=(...e)=>fetch(...e),gt=e=>e.status>=200&&e.status<=299,Tt=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Me(e){if(!(0,r.isPlainObject)(e))return e;let t={...e};for(let[p,Q]of Object.entries(t))Q===void 0&&delete t[p];return t}function ke({baseUrl:e,prepareHeaders:t=l=>l,fetchFn:p=Ee,paramsSerializer:Q,isJsonContentType:d=Tt,jsonContentType:S="application/json",jsonReplacer:D,timeout:k,responseHandler:B,validateStatus:x,...b}={}){return typeof fetch>"u"&&p===Ee&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(a,i,T)=>{let{getState:u,extra:c,endpoint:y,forced:n,type:g}=i,R,{url:A,headers:h=new Headers(b.headers),params:o=void 0,responseHandler:f=B??"json",validateStatus:m=x??gt,timeout:s=k,...E}=typeof a=="string"?{url:a}:a,M,P=i.signal;s&&(M=new AbortController,i.signal.addEventListener("abort",M.abort),P=M.signal);let v={...b,signal:P,...E};h=new Headers(Me(h)),v.headers=await t(h,{getState:u,arg:a,extra:c,endpoint:y,forced:n,type:g,extraOptions:T})||h;let C=I=>typeof I=="object"&&((0,r.isPlainObject)(I)||Array.isArray(I)||typeof I.toJSON=="function");if(!v.headers.has("content-type")&&C(v.body)&&v.headers.set("content-type",S),C(v.body)&&d(v.headers)&&(v.body=JSON.stringify(v.body,D)),o){let I=~A.indexOf("?")?"&":"?",V=Q?Q(o):new URLSearchParams(Me(o));A+=I+V}A=De(e,A);let F=new Request(A,v);R={request:new Request(A,v)};let w,N=!1,K=M&&setTimeout(()=>{N=!0,M.abort()},s);try{w=await p(F)}catch(I){return{error:{status:N?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(I)},meta:R}}finally{K&&clearTimeout(K),M?.signal.removeEventListener("abort",M.abort)}let X=w.clone();R.response=X;let U,O="";try{let I;if(await Promise.all([l(w,f).then(V=>U=V,V=>I=V),X.text().then(V=>O=V,()=>{})]),I)throw I}catch(I){return{error:{status:"PARSING_ERROR",originalStatus:w.status,data:O,error:String(I)},meta:R}}return m(w,U)?{data:U,meta:R}:{error:{status:w.status,data:U},meta:R}};async function l(a,i){if(typeof i=="function")return i(a);if(i==="content-type"&&(i=d(a.headers)?"json":"text"),i==="json"){let T=await a.text();return T.length?JSON.parse(T):null}return a.text()}}var L=class{constructor(t,p=void 0){this.value=t;this.meta=p}};async function ht(e=0,t=5){let p=Math.min(e,t),Q=~~((Math.random()+.4)*(300<<p));await new Promise(d=>setTimeout(S=>d(S),Q))}function Qt(e,t){throw Object.assign(new L({error:e,meta:t}),{throwImmediately:!0})}var Be={},Rt=(e,t)=>async(p,Q,d)=>{let S=[5,(t||Be).maxRetries,(d||Be).maxRetries].filter(b=>b!==void 0),[D]=S.slice(-1),B={maxRetries:D,backoff:ht,retryCondition:(b,l,{attempt:a})=>a<=D,...t,...d},x=0;for(;;)try{let b=await e(p,Q,d);if(b.error)throw new L(b);return b}catch(b){if(x++,b.throwImmediately){if(b instanceof L)return b.value;throw b}if(b instanceof L&&!B.retryCondition(b.value.error,p,{attempt:x,baseQueryApi:Q,extraOptions:d}))return b.value;await B.backoff(x,B.maxRetries)}},Pe=Object.assign(Rt,{fail:Qt});var _=(0,r.createAction)("__rtkq/focused"),J=(0,r.createAction)("__rtkq/unfocused"),z=(0,r.createAction)("__rtkq/online"),G=(0,r.createAction)("__rtkq/offline"),Te=!1;function ve(e,t){function p(){let Q=()=>e(_()),d=()=>e(J()),S=()=>e(z()),D=()=>e(G()),k=()=>{window.document.visibilityState==="visible"?Q():d()};return Te||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",k,!1),window.addEventListener("focus",Q,!1),window.addEventListener("online",S,!1),window.addEventListener("offline",D,!1),Te=!0),()=>{window.removeEventListener("focus",Q),window.removeEventListener("visibilitychange",k),window.removeEventListener("online",S),window.removeEventListener("offline",D),Te=!1}}return t?t(e,{onFocus:_,onFocusLost:J,onOffline:G,onOnline:z}):p()}function ye(e){return e.type==="query"}function Ce(e){return e.type==="mutation"}function ee(e,t,p,Q,d,S){return xt(e)?e(t,p,Q,d).filter(W).map(ue).map(S):Array.isArray(e)?e.map(ue).map(S):[]}function xt(e){return typeof e=="function"}function ue(e){return typeof e=="string"?{type:e}:e}var de=require("immer");var Gt=require("@reduxjs/toolkit");function we(e,t){return e.catch(t)}var Y=Symbol("forceQueryFn"),te=e=>typeof e[Y]=="function";function Fe({serializeQueryArgs:e,queryThunk:t,mutationThunk:p,api:Q,context:d}){let S=new Map,D=new Map,{unsubscribeQueryResult:k,removeMutationResult:B,updateSubscriptionOptions:x}=Q.internalActions;return{buildInitiateQuery:u,buildInitiateMutation:c,getRunningQueryThunk:b,getRunningMutationThunk:l,getRunningQueriesThunk:a,getRunningMutationsThunk:i};function b(y,n){return g=>{let R=d.endpointDefinitions[y],A=e({queryArgs:n,endpointDefinition:R,endpointName:y});return S.get(g)?.[A]}}function l(y,n){return g=>D.get(g)?.[n]}function a(){return y=>Object.values(S.get(y)||{}).filter(W)}function i(){return y=>Object.values(D.get(y)||{}).filter(W)}function T(y){}function u(y,n){let g=(R,{subscribe:A=!0,forceRefetch:h,subscriptionOptions:o,[Y]:f,...m}={})=>(s,E)=>{let M=e({queryArgs:R,endpointDefinition:n,endpointName:y}),P=t({...m,type:"query",subscribe:A,forceRefetch:h,subscriptionOptions:o,endpointName:y,originalArgs:R,queryCacheKey:M,[Y]:f}),v=Q.endpoints[y].select(R),C=s(P),F=v(E());let{requestId:q,abort:w}=C,N=F.requestId!==q,K=S.get(s)?.[M],X=()=>v(E()),U=Object.assign(f?C.then(X):N&&!K?Promise.resolve(F):Promise.all([K,C]).then(X),{arg:R,requestId:q,subscriptionOptions:o,queryCacheKey:M,abort:w,async unwrap(){let O=await U;if(O.isError)throw O.error;return O.data},refetch:()=>s(g(R,{subscribe:!1,forceRefetch:!0})),unsubscribe(){A&&s(k({queryCacheKey:M,requestId:q}))},updateSubscriptionOptions(O){U.subscriptionOptions=O,s(x({endpointName:y,requestId:q,queryCacheKey:M,options:O}))}});if(!K&&!N&&!f){let O=be(S,s,{});O[M]=U,U.then(()=>{delete O[M],j(O)||S.delete(s)})}return U};return g}function c(y){return(n,{track:g=!0,fixedCacheKey:R}={})=>(A,h)=>{let o=p({type:"mutation",endpointName:y,originalArgs:n,track:g,fixedCacheKey:R}),f=A(o);let{requestId:m,abort:s,unwrap:E}=f,M=we(f.unwrap().then(F=>({data:F})),F=>({error:F})),P=()=>{A(B({requestId:m,fixedCacheKey:R}))},v=Object.assign(M,{arg:f.arg,requestId:m,abort:s,unwrap:E,reset:P}),C=D.get(A)||{};return D.set(A,C),C[m]=v,v.then(()=>{delete C[m],j(C)||D.delete(A)}),R&&(C[R]=v,v.then(()=>{C[R]===v&&(delete C[R],j(C)||D.delete(A))})),v}}}function Ie(e){return e}function Oe({reducerPath:e,baseQuery:t,context:{endpointDefinitions:p},serializeQueryArgs:Q,api:d,assertTagType:S}){let D=(n,g,R,A)=>(h,o)=>{let f=p[n],m=Q({queryArgs:g,endpointDefinition:f,endpointName:n});if(h(d.internalActions.queryResultPatched({queryCacheKey:m,patches:R})),!A)return;let s=d.endpoints[n].select(g)(o()),E=ee(f.providesTags,s.data,void 0,g,{},S);h(d.internalActions.updateProvidedBy({queryCacheKey:m,providedTags:E}))},k=(n,g,R,A=!0)=>(h,o)=>{let m=d.endpoints[n].select(g)(o()),s={patches:[],inversePatches:[],undo:()=>h(d.util.patchQueryData(n,g,s.inversePatches,A))};if(m.status==="uninitialized")return s;let E;if("data"in m)if((0,de.isDraftable)(m.data)){let[M,P,v]=(0,de.produceWithPatches)(m.data,R);s.patches.push(...P),s.inversePatches.push(...v),E=M}else E=R(m.data),s.patches.push({op:"replace",path:[],value:E}),s.inversePatches.push({op:"replace",path:[],value:m.data});return s.patches.length===0||h(d.util.patchQueryData(n,g,s.patches,A)),s},B=(n,g,R)=>A=>A(d.endpoints[n].initiate(g,{subscribe:!1,forceRefetch:!0,[Y]:()=>({data:R})})),x=async(n,{signal:g,abort:R,rejectWithValue:A,fulfillWithValue:h,dispatch:o,getState:f,extra:m})=>{let s=p[n.endpointName];try{let E=Ie,M,P={signal:g,abort:R,dispatch:o,getState:f,extra:m,endpoint:n.endpointName,type:n.type,forced:n.type==="query"?b(n,f()):void 0,queryCacheKey:n.type==="query"?n.queryCacheKey:void 0},v=n.type==="query"?n[Y]:void 0;if(v?M=v():s.query?(M=await t(s.query(n.originalArgs),P,s.extraOptions),s.transformResponse&&(E=s.transformResponse)):M=await s.queryFn(n.originalArgs,P,s.extraOptions,C=>t(C,P,s.extraOptions)),typeof process<"u",M.error)throw new L(M.error,M.meta);return h(await E(M.data,M.meta,n.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:M.meta,[r.SHOULD_AUTOBATCH]:!0})}catch(E){let M=E;if(M instanceof L){let P=Ie;s.query&&s.transformErrorResponse&&(P=s.transformErrorResponse);try{return A(await P(M.value,M.meta,n.originalArgs),{baseQueryMeta:M.meta,[r.SHOULD_AUTOBATCH]:!0})}catch(v){M=v}}throw typeof process<"u",console.error(M),M}};function b(n,g){let R=g[e]?.queries?.[n.queryCacheKey],A=g[e]?.config.refetchOnMountOrArgChange,h=R?.fulfilledTimeStamp,o=n.forceRefetch??(n.subscribe&&A);return o?o===!0||(Number(new Date)-Number(h))/1e3>=o:!1}let l=(0,r.createAsyncThunk)(`${e}/executeQuery`,x,{getPendingMeta(){return{startedTimeStamp:Date.now(),[r.SHOULD_AUTOBATCH]:!0}},condition(n,{getState:g}){let R=g(),A=R[e]?.queries?.[n.queryCacheKey],h=A?.fulfilledTimeStamp,o=n.originalArgs,f=A?.originalArgs,m=p[n.endpointName];return te(n)?!0:A?.status==="pending"?!1:b(n,R)||ye(m)&&m?.forceRefetch?.({currentArg:o,previousArg:f,endpointState:A,state:R})?!0:!h},dispatchConditionRejection:!0}),a=(0,r.createAsyncThunk)(`${e}/executeMutation`,x,{getPendingMeta(){return{startedTimeStamp:Date.now(),[r.SHOULD_AUTOBATCH]:!0}}}),i=n=>"force"in n,T=n=>"ifOlderThan"in n,u=(n,g,R)=>(A,h)=>{let o=i(R)&&R.force,f=T(R)&&R.ifOlderThan,m=(E=!0)=>{let M={forceRefetch:E,isPrefetch:!0};return d.endpoints[n].initiate(g,M)},s=d.endpoints[n].select(g)(h());if(o)A(m());else if(f){let E=s?.fulfilledTimeStamp;if(!E){A(m());return}(Number(new Date)-Number(new Date(E)))/1e3>=f&&A(m())}else A(m(!1))};function c(n){return g=>g?.meta?.arg?.endpointName===n}function y(n,g){return{matchPending:(0,r.isAllOf)((0,r.isPending)(n),c(g)),matchFulfilled:(0,r.isAllOf)((0,r.isFulfilled)(n),c(g)),matchRejected:(0,r.isAllOf)((0,r.isRejected)(n),c(g))}}return{queryThunk:l,mutationThunk:a,prefetch:u,updateQueryData:k,upsertQueryData:B,patchQueryData:D,buildMatchThunkActions:y}}function pe(e,t,p,Q){return ee(p[e.meta.arg.endpointName][t],(0,r.isFulfilled)(e)?e.payload:void 0,(0,r.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,Q)}var Ne=require("immer"),re=require("immer");function ce(e,t,p){let Q=e[t];Q&&p(Q)}function $(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function qe(e,t,p){let Q=e[$(t)];Q&&p(Q)}var ne={};function Ke({reducerPath:e,queryThunk:t,mutationThunk:p,serializeQueryArgs:Q,context:{endpointDefinitions:d,apiUid:S,extractRehydrationInfo:D,hasRehydrationInfo:k},assertTagType:B,config:x}){let b=(0,r.createAction)(`${e}/resetApiState`);function l(h,o,f,m){h[o.queryCacheKey]??={status:"uninitialized",endpointName:o.endpointName},ce(h,o.queryCacheKey,s=>{s.status="pending",s.requestId=f&&s.requestId?s.requestId:m.requestId,o.originalArgs!==void 0&&(s.originalArgs=o.originalArgs),s.startedTimeStamp=m.startedTimeStamp})}function a(h,o,f,m){ce(h,o.arg.queryCacheKey,s=>{if(s.requestId!==o.requestId&&!m)return;let{merge:E}=d[o.arg.endpointName];if(s.status="fulfilled",E)if(s.data!==void 0){let{fulfilledTimeStamp:M,arg:P,baseQueryMeta:v,requestId:C}=o,F=(0,r.createNextState)(s.data,q=>E(q,f,{arg:P.originalArgs,baseQueryMeta:v,fulfilledTimeStamp:M,requestId:C}));s.data=F}else s.data=f;else s.data=d[o.arg.endpointName].structuralSharing??!0?Z((0,Ne.isDraft)(s.data)?(0,re.original)(s.data):s.data,f):f;delete s.error,s.fulfilledTimeStamp=o.fulfilledTimeStamp})}let i=(0,r.createSlice)({name:`${e}/queries`,initialState:ne,reducers:{removeQueryResult:{reducer(h,{payload:{queryCacheKey:o}}){delete h[o]},prepare:(0,r.prepareAutoBatched)()},cacheEntriesUpserted:{reducer(h,o){for(let f of o.payload){let{queryDescription:m,value:s}=f;l(h,m,!0,{arg:m,requestId:o.meta.requestId,startedTimeStamp:o.meta.timestamp}),a(h,{arg:m,requestId:o.meta.requestId,fulfilledTimeStamp:o.meta.timestamp,baseQueryMeta:{}},s,!0)}},prepare:h=>({payload:h.map(m=>{let{endpointName:s,arg:E,value:M}=m,P=d[s];return{queryDescription:{type:"query",endpointName:s,originalArgs:m.arg,queryCacheKey:Q({queryArgs:E,endpointDefinition:P,endpointName:s})},value:M}}),meta:{[r.SHOULD_AUTOBATCH]:!0,requestId:(0,r.nanoid)(),timestamp:Date.now()}})},queryResultPatched:{reducer(h,{payload:{queryCacheKey:o,patches:f}}){ce(h,o,m=>{m.data=(0,re.applyPatches)(m.data,f.concat())})},prepare:(0,r.prepareAutoBatched)()}},extraReducers(h){h.addCase(t.pending,(o,{meta:f,meta:{arg:m}})=>{let s=te(m);l(o,m,s,f)}).addCase(t.fulfilled,(o,{meta:f,payload:m})=>{let s=te(f.arg);a(o,f,m,s)}).addCase(t.rejected,(o,{meta:{condition:f,arg:m,requestId:s},error:E,payload:M})=>{ce(o,m.queryCacheKey,P=>{if(!f){if(P.requestId!==s)return;P.status="rejected",P.error=M??E}})}).addMatcher(k,(o,f)=>{let{queries:m}=D(f);for(let[s,E]of Object.entries(m))(E?.status==="fulfilled"||E?.status==="rejected")&&(o[s]=E)})}}),T=(0,r.createSlice)({name:`${e}/mutations`,initialState:ne,reducers:{removeMutationResult:{reducer(h,{payload:o}){let f=$(o);f in h&&delete h[f]},prepare:(0,r.prepareAutoBatched)()}},extraReducers(h){h.addCase(p.pending,(o,{meta:f,meta:{requestId:m,arg:s,startedTimeStamp:E}})=>{s.track&&(o[$(f)]={requestId:m,status:"pending",endpointName:s.endpointName,startedTimeStamp:E})}).addCase(p.fulfilled,(o,{payload:f,meta:m})=>{m.arg.track&&qe(o,m,s=>{s.requestId===m.requestId&&(s.status="fulfilled",s.data=f,s.fulfilledTimeStamp=m.fulfilledTimeStamp)})}).addCase(p.rejected,(o,{payload:f,error:m,meta:s})=>{s.arg.track&&qe(o,s,E=>{E.requestId===s.requestId&&(E.status="rejected",E.error=f??m)})}).addMatcher(k,(o,f)=>{let{mutations:m}=D(f);for(let[s,E]of Object.entries(m))(E?.status==="fulfilled"||E?.status==="rejected")&&s!==E?.requestId&&(o[s]=E)})}}),u=(0,r.createSlice)({name:`${e}/invalidation`,initialState:ne,reducers:{updateProvidedBy:{reducer(h,o){let{queryCacheKey:f,providedTags:m}=o.payload;for(let s of Object.values(h))for(let E of Object.values(s)){let M=E.indexOf(f);M!==-1&&E.splice(M,1)}for(let{type:s,id:E}of m){let M=(h[s]??={})[E||"__internal_without_id"]??=[];M.includes(f)||M.push(f)}},prepare:(0,r.prepareAutoBatched)()}},extraReducers(h){h.addCase(i.actions.removeQueryResult,(o,{payload:{queryCacheKey:f}})=>{for(let m of Object.values(o))for(let s of Object.values(m)){let E=s.indexOf(f);E!==-1&&s.splice(E,1)}}).addMatcher(k,(o,f)=>{let{provided:m}=D(f);for(let[s,E]of Object.entries(m))for(let[M,P]of Object.entries(E)){let v=(o[s]??={})[M||"__internal_without_id"]??=[];for(let C of P)v.includes(C)||v.push(C)}}).addMatcher((0,r.isAnyOf)((0,r.isFulfilled)(t),(0,r.isRejectedWithValue)(t)),(o,f)=>{let m=pe(f,"providesTags",d,B),{queryCacheKey:s}=f.meta.arg;u.caseReducers.updateProvidedBy(o,u.actions.updateProvidedBy({queryCacheKey:s,providedTags:m}))})}}),c=(0,r.createSlice)({name:`${e}/subscriptions`,initialState:ne,reducers:{updateSubscriptionOptions(h,o){},unsubscribeQueryResult(h,o){},internal_getRTKQSubscriptions(){}}}),y=(0,r.createSlice)({name:`${e}/internalSubscriptions`,initialState:ne,reducers:{subscriptionsUpdated:{reducer(h,o){return(0,re.applyPatches)(h,o.payload)},prepare:(0,r.prepareAutoBatched)()}}}),n=(0,r.createSlice)({name:`${e}/config`,initialState:{online:Ae(),focused:Se(),middlewareRegistered:!1,...x},reducers:{middlewareRegistered(h,{payload:o}){h.middlewareRegistered=h.middlewareRegistered==="conflict"||S!==o?"conflict":!0}},extraReducers:h=>{h.addCase(z,o=>{o.online=!0}).addCase(G,o=>{o.online=!1}).addCase(_,o=>{o.focused=!0}).addCase(J,o=>{o.focused=!1}).addMatcher(k,o=>({...o}))}}),g=(0,r.combineReducers)({queries:i.reducer,mutations:T.reducer,provided:u.reducer,subscriptions:y.reducer,config:n.reducer}),R=(h,o)=>g(b.match(o)?void 0:h,o),A={...n.actions,...i.actions,...c.actions,...y.actions,...T.actions,...u.actions,resetApiState:b};return{reducer:R,actions:A}}var ie=Symbol.for("RTKQ/skipToken"),Le={status:"uninitialized"},Ue=(0,r.createNextState)(Le,()=>{}),je=(0,r.createNextState)(Le,()=>{});function He({serializeQueryArgs:e,reducerPath:t,createSelector:p}){let Q=l=>Ue,d=l=>je;return{buildQuerySelector:k,buildMutationSelector:B,selectInvalidatedBy:x,selectCachedArgsForQuery:b};function S(l){return{...l,...Qe(l.status)}}function D(l){return l[t]}function k(l,a){return i=>{if(i===ie)return p(Q,S);let T=e({queryArgs:i,endpointDefinition:a,endpointName:l});return p(c=>D(c)?.queries?.[T]??Ue,S)}}function B(){return l=>{let a;return typeof l=="object"?a=$(l)??ie:a=l,p(a===ie?d:u=>D(u)?.mutations?.[a]??je,S)}}function x(l,a){let i=l[t],T=new Set;for(let u of a.filter(W).map(ue)){let c=i.provided[u.type];if(!c)continue;let y=(u.id!==void 0?c[u.id]:ge(Object.values(c)))??[];for(let n of y)T.add(n)}return ge(Array.from(T.values()).map(u=>{let c=i.queries[u];return c?[{queryCacheKey:u,endpointName:c.endpointName,originalArgs:c.originalArgs}]:[]}))}function b(l,a){return Object.values(l[t].queries).filter(i=>i?.endpointName===a&&i.status!=="uninitialized").map(i=>i.originalArgs)}}var ze=require("@reduxjs/toolkit");var _e=WeakMap?new WeakMap:void 0,oe=({endpointName:e,queryArgs:t})=>{let p="",Q=_e?.get(t);if(typeof Q=="string")p=Q;else{let d=JSON.stringify(t,(S,D)=>(D=typeof D=="bigint"?{$bigint:D.toString()}:D,D=(0,r.isPlainObject)(D)?Object.keys(D).sort().reduce((k,B)=>(k[B]=D[B],k),{}):D,D));(0,r.isPlainObject)(t)&&_e?.set(t,d),p=d}return`${e}(${p})`};var he=require("reselect");function le(...e){return function(p){let Q=(0,he.weakMapMemoize)(x=>p.extractRehydrationInfo?.(x,{reducerPath:p.reducerPath??"api"})),d={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...p,extractRehydrationInfo:Q,serializeQueryArgs(x){let b=oe;if("serializeQueryArgs"in x.endpointDefinition){let l=x.endpointDefinition.serializeQueryArgs;b=a=>{let i=l(a);return typeof i=="string"?i:oe({...a,queryArgs:i})}}else p.serializeQueryArgs&&(b=p.serializeQueryArgs);return b(x)},tagTypes:[...p.tagTypes||[]]},S={endpointDefinitions:{},batch(x){x()},apiUid:(0,r.nanoid)(),extractRehydrationInfo:Q,hasRehydrationInfo:(0,he.weakMapMemoize)(x=>Q(x)!=null)},D={injectEndpoints:B,enhanceEndpoints({addTagTypes:x,endpoints:b}){if(x)for(let l of x)d.tagTypes.includes(l)||d.tagTypes.push(l);if(b)for(let[l,a]of Object.entries(b))typeof a=="function"?a(S.endpointDefinitions[l]):Object.assign(S.endpointDefinitions[l]||{},a);return D}},k=e.map(x=>x.init(D,d,S));function B(x){let b=x.endpoints({query:l=>({...l,type:"query"}),mutation:l=>({...l,type:"mutation"})});for(let[l,a]of Object.entries(b)){if(x.overrideExisting!==!0&&l in S.endpointDefinitions){if(x.overrideExisting==="throw")throw new Error((0,ze.formatProdErrorMessage)(39));typeof process<"u";continue}S.endpointDefinitions[l]=a;for(let i of k)i.injectEndpoint(l,a)}return D}return D.injectEndpoints({endpoints:p.endpoints})}}var Ve=require("@reduxjs/toolkit"),We=Symbol();function $e(){return function(){throw new Error((0,Ve.formatProdErrorMessage)(33))}}var at=require("immer");function H(e,...t){return Object.assign(e,...t)}var Je=require("immer");var Ge=({api:e,queryThunk:t,internalState:p})=>{let Q=`${e.reducerPath}/subscriptions`,d=null,S=null,{updateSubscriptionOptions:D,unsubscribeQueryResult:k}=e.internalActions,B=(i,T)=>{if(D.match(T)){let{queryCacheKey:c,requestId:y,options:n}=T.payload;return i?.[c]?.[y]&&(i[c][y]=n),!0}if(k.match(T)){let{queryCacheKey:c,requestId:y}=T.payload;return i[c]&&delete i[c][y],!0}if(e.internalActions.removeQueryResult.match(T))return delete i[T.payload.queryCacheKey],!0;if(t.pending.match(T)){let{meta:{arg:c,requestId:y}}=T,n=i[c.queryCacheKey]??={};return n[`${y}_running`]={},c.subscribe&&(n[y]=c.subscriptionOptions??n[y]??{}),!0}let u=!1;if(t.fulfilled.match(T)||t.rejected.match(T)){let c=i[T.meta.arg.queryCacheKey]||{},y=`${T.meta.requestId}_running`;u||=!!c[y],delete c[y]}if(t.rejected.match(T)){let{meta:{condition:c,arg:y,requestId:n}}=T;if(c&&y.subscribe){let g=i[y.queryCacheKey]??={};g[n]=y.subscriptionOptions??g[n]??{},u=!0}}return u},x=()=>p.currentSubscriptions,a={getSubscriptions:x,getSubscriptionCount:i=>{let u=x()[i]??{};return j(u)},isRequestSubscribed:(i,T)=>!!x()?.[i]?.[T]};return(i,T)=>{if(d||(d=JSON.parse(JSON.stringify(p.currentSubscriptions))),e.util.resetApiState.match(i))return d=p.currentSubscriptions={},S=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(i))return[!1,a];let u=B(p.currentSubscriptions,i),c=!0;if(u){S||(S=setTimeout(()=>{let g=JSON.parse(JSON.stringify(p.currentSubscriptions)),[,R]=(0,Je.produceWithPatches)(d,()=>g);T.next(e.internalActions.subscriptionsUpdated(R)),d=g,S=null},500));let y=typeof i.type=="string"&&!!i.type.startsWith(Q),n=t.rejected.match(i)&&i.meta.condition&&!!i.meta.arg.subscribe;c=!y&&!n}return[c,!1]}};function St(e){for(let t in e)return!1;return!0}var At=2147483647/1e3-1,Ye=({reducerPath:e,api:t,queryThunk:p,context:Q,internalState:d})=>{let{removeQueryResult:S,unsubscribeQueryResult:D,cacheEntriesUpserted:k}=t.internalActions,B=(0,r.isAnyOf)(D.match,p.fulfilled,p.rejected,k.match);function x(i){let T=d.currentSubscriptions[i];return!!T&&!St(T)}let b={},l=(i,T,u)=>{if(B(i)){let c=T.getState()[e],y;if(k.match(i))y=i.payload.map(n=>n.queryDescription.queryCacheKey);else{let{queryCacheKey:n}=D.match(i)?i.payload:i.meta.arg;y=[n]}for(let n of y)a(n,c.queries[n]?.endpointName,T,c.config)}if(t.util.resetApiState.match(i))for(let[c,y]of Object.entries(b))y&&clearTimeout(y),delete b[c];if(Q.hasRehydrationInfo(i)){let c=T.getState()[e],{queries:y}=Q.extractRehydrationInfo(i);for(let[n,g]of Object.entries(y))a(n,g?.endpointName,T,c.config)}};function a(i,T,u,c){let n=Q.endpointDefinitions[T]?.keepUnusedDataFor??c.keepUnusedDataFor;if(n===1/0)return;let g=Math.max(0,Math.min(n,At));if(!x(i)){let R=b[i];R&&clearTimeout(R),b[i]=setTimeout(()=>{x(i)||u.dispatch(S({queryCacheKey:i})),delete b[i]},g*1e3)}}return l};var Xe=new Error("Promise never resolved before cacheEntryRemoved."),Ze=({api:e,reducerPath:t,context:p,queryThunk:Q,mutationThunk:d,internalState:S})=>{let D=(0,r.isAsyncThunkAction)(Q),k=(0,r.isAsyncThunkAction)(d),B=(0,r.isFulfilled)(Q,d),x={};function b(u,c,y){let n=x[u];n?.valueResolved&&(n.valueResolved({data:c,meta:y}),delete n.valueResolved)}function l(u){let c=x[u];c&&(delete x[u],c.cacheEntryRemoved())}let a=(u,c,y)=>{let n=i(u);function g(R,A,h,o){let f=y[t].queries[A],m=c.getState()[t].queries[A];!f&&m&&T(R,o,A,c,h)}if(Q.pending.match(u))g(u.meta.arg.endpointName,n,u.meta.requestId,u.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(u))for(let{queryDescription:R,value:A}of u.payload){let{endpointName:h,originalArgs:o,queryCacheKey:f}=R;g(h,f,u.meta.requestId,o),b(f,A,{})}else if(d.pending.match(u))c.getState()[t].mutations[n]&&T(u.meta.arg.endpointName,u.meta.arg.originalArgs,n,c,u.meta.requestId);else if(B(u))b(n,u.payload,u.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(u)||e.internalActions.removeMutationResult.match(u))l(n);else if(e.util.resetApiState.match(u))for(let R of Object.keys(x))l(R)};function i(u){return D(u)?u.meta.arg.queryCacheKey:k(u)?u.meta.arg.fixedCacheKey??u.meta.requestId:e.internalActions.removeQueryResult.match(u)?u.payload.queryCacheKey:e.internalActions.removeMutationResult.match(u)?$(u.payload):""}function T(u,c,y,n,g){let R=p.endpointDefinitions[u],A=R?.onCacheEntryAdded;if(!A)return;let h={},o=new Promise(P=>{h.cacheEntryRemoved=P}),f=Promise.race([new Promise(P=>{h.valueResolved=P}),o.then(()=>{throw Xe})]);f.catch(()=>{}),x[y]=h;let m=e.endpoints[u].select(R.type==="query"?c:y),s=n.dispatch((P,v,C)=>C),E={...n,getCacheEntry:()=>m(n.getState()),requestId:g,extra:s,updateCachedData:R.type==="query"?P=>n.dispatch(e.util.updateQueryData(u,c,P)):void 0,cacheDataLoaded:f,cacheEntryRemoved:o},M=A(c,E);Promise.resolve(M).catch(P=>{if(P!==Xe)throw P})}return a};var et=({api:e,context:{apiUid:t},reducerPath:p})=>(Q,d)=>{e.util.resetApiState.match(Q)&&d.dispatch(e.internalActions.middlewareRegistered(t)),typeof process<"u"};var tt=({reducerPath:e,context:t,context:{endpointDefinitions:p},mutationThunk:Q,queryThunk:d,api:S,assertTagType:D,refetchQuery:k,internalState:B})=>{let{removeQueryResult:x}=S.internalActions,b=(0,r.isAnyOf)((0,r.isFulfilled)(Q),(0,r.isRejectedWithValue)(Q)),l=(0,r.isAnyOf)((0,r.isFulfilled)(Q,d),(0,r.isRejected)(Q,d)),a=[],i=(c,y)=>{b(c)?u(pe(c,"invalidatesTags",p,D),y):l(c)?u([],y):S.util.invalidateTags.match(c)&&u(ee(c.payload,void 0,void 0,void 0,void 0,D),y)};function T(c){for(let y in c.queries)if(c.queries[y]?.status==="pending")return!0;for(let y in c.mutations)if(c.mutations[y]?.status==="pending")return!0;return!1}function u(c,y){let n=y.getState(),g=n[e];if(a.push(...c),g.config.invalidationBehavior==="delayed"&&T(g))return;let R=a;if(a=[],R.length===0)return;let A=S.util.selectInvalidatedBy(n,R);t.batch(()=>{let h=Array.from(A.values());for(let{queryCacheKey:o}of h){let f=g.queries[o],m=B.currentSubscriptions[o]??{};f&&(j(m)===0?y.dispatch(x({queryCacheKey:o})):f.status!=="uninitialized"&&y.dispatch(k(f)))}})}return i};var nt=({reducerPath:e,queryThunk:t,api:p,refetchQuery:Q,internalState:d})=>{let S={},D=(a,i)=>{(p.internalActions.updateSubscriptionOptions.match(a)||p.internalActions.unsubscribeQueryResult.match(a))&&B(a.payload,i),(t.pending.match(a)||t.rejected.match(a)&&a.meta.condition)&&B(a.meta.arg,i),(t.fulfilled.match(a)||t.rejected.match(a)&&!a.meta.condition)&&k(a.meta.arg,i),p.util.resetApiState.match(a)&&b()};function k({queryCacheKey:a},i){let T=i.getState()[e],u=T.queries[a],c=d.currentSubscriptions[a];if(!u||u.status==="uninitialized")return;let{lowestPollingInterval:y,skipPollingIfUnfocused:n}=l(c);if(!Number.isFinite(y))return;let g=S[a];g?.timeout&&(clearTimeout(g.timeout),g.timeout=void 0);let R=Date.now()+y;S[a]={nextPollTimestamp:R,pollingInterval:y,timeout:setTimeout(()=>{(T.config.focused||!n)&&i.dispatch(Q(u)),k({queryCacheKey:a},i)},y)}}function B({queryCacheKey:a},i){let u=i.getState()[e].queries[a],c=d.currentSubscriptions[a];if(!u||u.status==="uninitialized")return;let{lowestPollingInterval:y}=l(c);if(!Number.isFinite(y)){x(a);return}let n=S[a],g=Date.now()+y;(!n||g<n.nextPollTimestamp)&&k({queryCacheKey:a},i)}function x(a){let i=S[a];i?.timeout&&clearTimeout(i.timeout),delete S[a]}function b(){for(let a of Object.keys(S))x(a)}function l(a={}){let i=!1,T=Number.POSITIVE_INFINITY;for(let u in a)a[u].pollingInterval&&(T=Math.min(a[u].pollingInterval,T),i=a[u].skipPollingIfUnfocused||i);return{lowestPollingInterval:T,skipPollingIfUnfocused:i}}return D};var rt=({api:e,context:t,queryThunk:p,mutationThunk:Q})=>{let d=(0,r.isPending)(p,Q),S=(0,r.isRejected)(p,Q),D=(0,r.isFulfilled)(p,Q),k={};return(x,b)=>{if(d(x)){let{requestId:l,arg:{endpointName:a,originalArgs:i}}=x.meta,T=t.endpointDefinitions[a],u=T?.onQueryStarted;if(u){let c={},y=new Promise((A,h)=>{c.resolve=A,c.reject=h});y.catch(()=>{}),k[l]=c;let n=e.endpoints[a].select(T.type==="query"?i:l),g=b.dispatch((A,h,o)=>o),R={...b,getCacheEntry:()=>n(b.getState()),requestId:l,extra:g,updateCachedData:T.type==="query"?A=>b.dispatch(e.util.updateQueryData(a,i,A)):void 0,queryFulfilled:y};u(i,R)}}else if(D(x)){let{requestId:l,baseQueryMeta:a}=x.meta;k[l]?.resolve({data:x.payload,meta:a}),delete k[l]}else if(S(x)){let{requestId:l,rejectedWithValue:a,baseQueryMeta:i}=x.meta;k[l]?.reject({error:x.payload??x.error,isUnhandledError:!a,meta:i}),delete k[l]}}};var it=({reducerPath:e,context:t,api:p,refetchQuery:Q,internalState:d})=>{let{removeQueryResult:S}=p.internalActions,D=(B,x)=>{_.match(B)&&k(x,"refetchOnFocus"),z.match(B)&&k(x,"refetchOnReconnect")};function k(B,x){let b=B.getState()[e],l=b.queries,a=d.currentSubscriptions;t.batch(()=>{for(let i of Object.keys(a)){let T=l[i],u=a[i];if(!u||!T)continue;(Object.values(u).some(y=>y[x]===!0)||Object.values(u).every(y=>y[x]===void 0)&&b.config[x])&&(j(u)===0?B.dispatch(S({queryCacheKey:i})):T.status!=="uninitialized"&&B.dispatch(Q(T)))}})}return D};function ot(e){let{reducerPath:t,queryThunk:p,api:Q,context:d}=e,{apiUid:S}=d,D={invalidateTags:(0,r.createAction)(`${t}/invalidateTags`)},k=l=>l.type.startsWith(`${t}/`),B=[et,Ye,tt,nt,Ze,rt];return{middleware:l=>{let a=!1,T={...e,internalState:{currentSubscriptions:{}},refetchQuery:b,isThisApiSliceAction:k},u=B.map(n=>n(T)),c=Ge(T),y=it(T);return n=>g=>{if(!(0,r.isAction)(g))return n(g);a||(a=!0,l.dispatch(Q.internalActions.middlewareRegistered(S)));let R={...l,next:n},A=l.getState(),[h,o]=c(g,R,A),f;if(h?f=n(g):f=o,l.getState()[t]&&(y(g,R,A),k(g)||d.hasRehydrationInfo(g)))for(let m of u)m(g,R,A);return f}},actions:D};function b(l){return e.api.endpoints[l.endpointName].initiate(l.originalArgs,{subscribe:!1,forceRefetch:!0})}}var ae=Symbol(),fe=({createSelector:e=r.createSelector}={})=>({name:ae,init(t,{baseQuery:p,tagTypes:Q,reducerPath:d,serializeQueryArgs:S,keepUnusedDataFor:D,refetchOnMountOrArgChange:k,refetchOnFocus:B,refetchOnReconnect:x,invalidationBehavior:b},l){(0,at.enablePatches)();let a=w=>(typeof process<"u",w);Object.assign(t,{reducerPath:d,endpoints:{},internalActions:{onOnline:z,onOffline:G,onFocus:_,onFocusLost:J},util:{}});let{queryThunk:i,mutationThunk:T,patchQueryData:u,updateQueryData:c,upsertQueryData:y,prefetch:n,buildMatchThunkActions:g}=Oe({baseQuery:p,reducerPath:d,context:l,api:t,serializeQueryArgs:S,assertTagType:a}),{reducer:R,actions:A}=Ke({context:l,queryThunk:i,mutationThunk:T,serializeQueryArgs:S,reducerPath:d,assertTagType:a,config:{refetchOnFocus:B,refetchOnReconnect:x,refetchOnMountOrArgChange:k,keepUnusedDataFor:D,reducerPath:d,invalidationBehavior:b}});H(t.util,{patchQueryData:u,updateQueryData:c,upsertQueryData:y,prefetch:n,resetApiState:A.resetApiState,upsertQueryEntries:A.cacheEntriesUpserted}),H(t.internalActions,A);let{middleware:h,actions:o}=ot({reducerPath:d,context:l,queryThunk:i,mutationThunk:T,api:t,assertTagType:a});H(t.util,o),H(t,{reducer:R,middleware:h});let{buildQuerySelector:f,buildMutationSelector:m,selectInvalidatedBy:s,selectCachedArgsForQuery:E}=He({serializeQueryArgs:S,reducerPath:d,createSelector:e});H(t.util,{selectInvalidatedBy:s,selectCachedArgsForQuery:E});let{buildInitiateQuery:M,buildInitiateMutation:P,getRunningMutationThunk:v,getRunningMutationsThunk:C,getRunningQueriesThunk:F,getRunningQueryThunk:q}=Fe({queryThunk:i,mutationThunk:T,api:t,serializeQueryArgs:S,context:l});return H(t.util,{getRunningMutationThunk:v,getRunningMutationsThunk:C,getRunningQueryThunk:q,getRunningQueriesThunk:F}),{name:ae,injectEndpoint(w,N){let K=t;K.endpoints[w]??={},ye(N)?H(K.endpoints[w],{name:w,select:f(w,N),initiate:M(w,N)},g(i,w)):Ce(N)&&H(K.endpoints[w],{name:w,select:m(),initiate:P(w)},g(T,w))}}}});var st=le(fe());0&&(module.exports={QueryStatus,_NEVER,buildCreateApi,copyWithStructuralSharing,coreModule,coreModuleName,createApi,defaultSerializeQueryArgs,fakeBaseQuery,fetchBaseQuery,retry,setupListeners,skipToken});
//# sourceMappingURL=rtk-query.production.min.cjs.map