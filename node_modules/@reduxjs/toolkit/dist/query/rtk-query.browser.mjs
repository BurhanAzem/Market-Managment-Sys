var Se=(d=>(d.uninitialized="uninitialized",d.pending="pending",d.fulfilled="fulfilled",d.rejected="rejected",d))(Se||{});function Be(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}import{createAction as H,createSlice as J,createSelector as Pe,createAsyncThunk as Ae,combineReducers as ve,createNextState as se,isAnyOf as G,isAllOf as pe,isAction as Ce,isPending as ce,isRejected as ee,isFulfilled as O,isRejectedWithValue as te,isAsyncThunkAction as De,prepareAutoBatched as ne,SHOULD_AUTOBATCH as Y,isPlainObject as z,nanoid as le}from"@reduxjs/toolkit";var we=z;function fe(e,n){if(e===n||!(we(e)&&we(n)||Array.isArray(e)&&Array.isArray(n)))return n;let l=Object.keys(n),R=Object.keys(e),d=l.length===R.length,x=Array.isArray(n)?[]:{};for(let A of l)x[A]=fe(e[A],n[A]),d&&(d=e[A]===x[A]);return d?e:x}function j(e){let n=0;for(let l in e)n++;return n}var be=e=>[].concat(...e);function Fe(e){return new RegExp("(^|:)//").test(e)}function Ie(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function X(e){return e!=null}function Oe(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var ct=e=>e.replace(/\/$/,""),lt=e=>e.replace(/^\//,"");function qe(e,n){if(!e)return n;if(!n)return e;if(Fe(n))return n;let l=e.endsWith("/")||!n.startsWith("?")?"/":"";return e=ct(e),n=lt(n),`${e}${l}${n}`}function Ne(e,n,l){return e.has(n)?e.get(n):e.set(n,l).get(n)}var Ke=(...e)=>fetch(...e),ft=e=>e.status>=200&&e.status<=299,mt=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Ue(e){if(!z(e))return e;let n={...e};for(let[l,R]of Object.entries(n))R===void 0&&delete n[l];return n}function gt({baseUrl:e,prepareHeaders:n=p=>p,fetchFn:l=Ke,paramsSerializer:R,isJsonContentType:d=mt,jsonContentType:x="application/json",jsonReplacer:A,timeout:M,responseHandler:k,validateStatus:Q,...D}={}){return typeof fetch>"u"&&l===Ke&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(o,r,g)=>{let{getState:s,extra:y,endpoint:u,forced:t,type:m}=r,h,{url:S,headers:T=new Headers(D.headers),params:i=void 0,responseHandler:c=k??"json",validateStatus:f=Q??ft,timeout:a=M,...b}=typeof o=="string"?{url:o}:o,E,B=r.signal;a&&(E=new AbortController,r.signal.addEventListener("abort",E.abort),B=E.signal);let P={...D,signal:B,...b};T=new Headers(Ue(T)),P.headers=await n(T,{getState:s,arg:o,extra:y,endpoint:u,forced:t,type:m,extraOptions:g})||T;let v=F=>typeof F=="object"&&(z(F)||Array.isArray(F)||typeof F.toJSON=="function");if(!P.headers.has("content-type")&&v(P.body)&&P.headers.set("content-type",x),v(P.body)&&d(P.headers)&&(P.body=JSON.stringify(P.body,A)),i){let F=~S.indexOf("?")?"&":"?",$=R?R(i):new URLSearchParams(Ue(i));S+=F+$}S=qe(e,S);let w=new Request(S,P);h={request:new Request(S,P)};let C,N=!1,K=E&&setTimeout(()=>{N=!0,E.abort()},a);try{C=await l(w)}catch(F){return{error:{status:N?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(F)},meta:h}}finally{K&&clearTimeout(K),E?.signal.removeEventListener("abort",E.abort)}let ae=C.clone();h.response=ae;let U,I="";try{let F;if(await Promise.all([p(C,c).then($=>U=$,$=>F=$),ae.text().then($=>I=$,()=>{})]),F)throw F}catch(F){return{error:{status:"PARSING_ERROR",originalStatus:C.status,data:I,error:String(F)},meta:h}}return f(C,U)?{data:U,meta:h}:{error:{status:C.status,data:U},meta:h}};async function p(o,r){if(typeof r=="function")return r(o);if(r==="content-type"&&(r=d(o.headers)?"json":"text"),r==="json"){let g=await o.text();return g.length?JSON.parse(g):null}return o.text()}}var L=class{constructor(n,l=void 0){this.value=n;this.meta=l}};async function Tt(e=0,n=5){let l=Math.min(e,n),R=~~((Math.random()+.4)*(300<<l));await new Promise(d=>setTimeout(x=>d(x),R))}function ht(e,n){throw Object.assign(new L({error:e,meta:n}),{throwImmediately:!0})}var je={},Qt=(e,n)=>async(l,R,d)=>{let x=[5,(n||je).maxRetries,(d||je).maxRetries].filter(D=>D!==void 0),[A]=x.slice(-1),k={maxRetries:A,backoff:Tt,retryCondition:(D,p,{attempt:o})=>o<=A,...n,...d},Q=0;for(;;)try{let D=await e(l,R,d);if(D.error)throw new L(D);return D}catch(D){if(Q++,D.throwImmediately){if(D instanceof L)return D.value;throw D}if(D instanceof L&&!k.retryCondition(D.value.error,l,{attempt:Q,baseQueryApi:R,extraOptions:d}))return D.value;await k.backoff(Q,k.maxRetries)}},Rt=Object.assign(Qt,{fail:ht});var V=H("__rtkq/focused"),re=H("__rtkq/unfocused"),W=H("__rtkq/online"),ie=H("__rtkq/offline"),Ee=!1;function xt(e,n){function l(){let R=()=>e(V()),d=()=>e(re()),x=()=>e(W()),A=()=>e(ie()),M=()=>{window.document.visibilityState==="visible"?R():d()};return Ee||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",M,!1),window.addEventListener("focus",R,!1),window.addEventListener("online",x,!1),window.addEventListener("offline",A,!1),Ee=!0),()=>{window.removeEventListener("focus",R),window.removeEventListener("visibilitychange",M),window.removeEventListener("online",x),window.removeEventListener("offline",A),Ee=!1}}return n?n(e,{onFocus:V,onFocusLost:re,onOffline:ie,onOnline:W}):l()}function ge(e){return e.type==="query"}function Le(e){return e.type==="mutation"}function ue(e,n,l,R,d,x){return St(e)?e(n,l,R,d).filter(X).map(me).map(x):Array.isArray(e)?e.map(me).map(x):[]}function St(e){return typeof e=="function"}function me(e){return typeof e=="string"?{type:e}:e}import{isDraftable as At,produceWithPatches as Dt}from"immer";import"@reduxjs/toolkit";function He(e,n){return e.catch(n)}var oe=Symbol("forceQueryFn"),ye=e=>typeof e[oe]=="function";function _e({serializeQueryArgs:e,queryThunk:n,mutationThunk:l,api:R,context:d}){let x=new Map,A=new Map,{unsubscribeQueryResult:M,removeMutationResult:k,updateSubscriptionOptions:Q}=R.internalActions;return{buildInitiateQuery:s,buildInitiateMutation:y,getRunningQueryThunk:D,getRunningMutationThunk:p,getRunningQueriesThunk:o,getRunningMutationsThunk:r};function D(u,t){return m=>{let h=d.endpointDefinitions[u],S=e({queryArgs:t,endpointDefinition:h,endpointName:u});return x.get(m)?.[S]}}function p(u,t){return m=>A.get(m)?.[t]}function o(){return u=>Object.values(x.get(u)||{}).filter(X)}function r(){return u=>Object.values(A.get(u)||{}).filter(X)}function g(u){}function s(u,t){let m=(h,{subscribe:S=!0,forceRefetch:T,subscriptionOptions:i,[oe]:c,...f}={})=>(a,b)=>{let E=e({queryArgs:h,endpointDefinition:t,endpointName:u}),B=n({...f,type:"query",subscribe:S,forceRefetch:T,subscriptionOptions:i,endpointName:u,originalArgs:h,queryCacheKey:E,[oe]:c}),P=R.endpoints[u].select(h),v=a(B),w=P(b());let{requestId:q,abort:C}=v,N=w.requestId!==q,K=x.get(a)?.[E],ae=()=>P(b()),U=Object.assign(c?v.then(ae):N&&!K?Promise.resolve(w):Promise.all([K,v]).then(ae),{arg:h,requestId:q,subscriptionOptions:i,queryCacheKey:E,abort:C,async unwrap(){let I=await U;if(I.isError)throw I.error;return I.data},refetch:()=>a(m(h,{subscribe:!1,forceRefetch:!0})),unsubscribe(){S&&a(M({queryCacheKey:E,requestId:q}))},updateSubscriptionOptions(I){U.subscriptionOptions=I,a(Q({endpointName:u,requestId:q,queryCacheKey:E,options:I}))}});if(!K&&!N&&!c){let I=Ne(x,a,{});I[E]=U,U.then(()=>{delete I[E],j(I)||x.delete(a)})}return U};return m}function y(u){return(t,{track:m=!0,fixedCacheKey:h}={})=>(S,T)=>{let i=l({type:"mutation",endpointName:u,originalArgs:t,track:m,fixedCacheKey:h}),c=S(i);let{requestId:f,abort:a,unwrap:b}=c,E=He(c.unwrap().then(w=>({data:w})),w=>({error:w})),B=()=>{S(k({requestId:f,fixedCacheKey:h}))},P=Object.assign(E,{arg:c.arg,requestId:f,abort:a,unwrap:b,reset:B}),v=A.get(S)||{};return A.set(S,v),v[f]=P,P.then(()=>{delete v[f],j(v)||A.delete(S)}),h&&(v[h]=P,P.then(()=>{v[h]===P&&(delete v[h],j(v)||A.delete(S))})),P}}}function ze(e){return e}function Ve({reducerPath:e,baseQuery:n,context:{endpointDefinitions:l},serializeQueryArgs:R,api:d,assertTagType:x}){let A=(t,m,h,S)=>(T,i)=>{let c=l[t],f=R({queryArgs:m,endpointDefinition:c,endpointName:t});if(T(d.internalActions.queryResultPatched({queryCacheKey:f,patches:h})),!S)return;let a=d.endpoints[t].select(m)(i()),b=ue(c.providesTags,a.data,void 0,m,{},x);T(d.internalActions.updateProvidedBy({queryCacheKey:f,providedTags:b}))},M=(t,m,h,S=!0)=>(T,i)=>{let f=d.endpoints[t].select(m)(i()),a={patches:[],inversePatches:[],undo:()=>T(d.util.patchQueryData(t,m,a.inversePatches,S))};if(f.status==="uninitialized")return a;let b;if("data"in f)if(At(f.data)){let[E,B,P]=Dt(f.data,h);a.patches.push(...B),a.inversePatches.push(...P),b=E}else b=h(f.data),a.patches.push({op:"replace",path:[],value:b}),a.inversePatches.push({op:"replace",path:[],value:f.data});return a.patches.length===0||T(d.util.patchQueryData(t,m,a.patches,S)),a},k=(t,m,h)=>S=>S(d.endpoints[t].initiate(m,{subscribe:!1,forceRefetch:!0,[oe]:()=>({data:h})})),Q=async(t,{signal:m,abort:h,rejectWithValue:S,fulfillWithValue:T,dispatch:i,getState:c,extra:f})=>{let a=l[t.endpointName];try{let b=ze,E,B={signal:m,abort:h,dispatch:i,getState:c,extra:f,endpoint:t.endpointName,type:t.type,forced:t.type==="query"?D(t,c()):void 0,queryCacheKey:t.type==="query"?t.queryCacheKey:void 0},P=t.type==="query"?t[oe]:void 0;if(P?E=P():a.query?(E=await n(a.query(t.originalArgs),B,a.extraOptions),a.transformResponse&&(b=a.transformResponse)):E=await a.queryFn(t.originalArgs,B,a.extraOptions,v=>n(v,B,a.extraOptions)),typeof process<"u",E.error)throw new L(E.error,E.meta);return T(await b(E.data,E.meta,t.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:E.meta,[Y]:!0})}catch(b){let E=b;if(E instanceof L){let B=ze;a.query&&a.transformErrorResponse&&(B=a.transformErrorResponse);try{return S(await B(E.value,E.meta,t.originalArgs),{baseQueryMeta:E.meta,[Y]:!0})}catch(P){E=P}}throw typeof process<"u",console.error(E),E}};function D(t,m){let h=m[e]?.queries?.[t.queryCacheKey],S=m[e]?.config.refetchOnMountOrArgChange,T=h?.fulfilledTimeStamp,i=t.forceRefetch??(t.subscribe&&S);return i?i===!0||(Number(new Date)-Number(T))/1e3>=i:!1}let p=Ae(`${e}/executeQuery`,Q,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Y]:!0}},condition(t,{getState:m}){let h=m(),S=h[e]?.queries?.[t.queryCacheKey],T=S?.fulfilledTimeStamp,i=t.originalArgs,c=S?.originalArgs,f=l[t.endpointName];return ye(t)?!0:S?.status==="pending"?!1:D(t,h)||ge(f)&&f?.forceRefetch?.({currentArg:i,previousArg:c,endpointState:S,state:h})?!0:!T},dispatchConditionRejection:!0}),o=Ae(`${e}/executeMutation`,Q,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Y]:!0}}}),r=t=>"force"in t,g=t=>"ifOlderThan"in t,s=(t,m,h)=>(S,T)=>{let i=r(h)&&h.force,c=g(h)&&h.ifOlderThan,f=(b=!0)=>{let E={forceRefetch:b,isPrefetch:!0};return d.endpoints[t].initiate(m,E)},a=d.endpoints[t].select(m)(T());if(i)S(f());else if(c){let b=a?.fulfilledTimeStamp;if(!b){S(f());return}(Number(new Date)-Number(new Date(b)))/1e3>=c&&S(f())}else S(f(!1))};function y(t){return m=>m?.meta?.arg?.endpointName===t}function u(t,m){return{matchPending:pe(ce(t),y(m)),matchFulfilled:pe(O(t),y(m)),matchRejected:pe(ee(t),y(m))}}return{queryThunk:p,mutationThunk:o,prefetch:s,updateQueryData:M,upsertQueryData:k,patchQueryData:A,buildMatchThunkActions:u}}function Te(e,n,l,R){return ue(l[e.meta.arg.endpointName][n],O(e)?e.payload:void 0,te(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,R)}import{isDraft as bt}from"immer";import{applyPatches as We,original as Et}from"immer";function he(e,n,l){let R=e[n];R&&l(R)}function Z(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function $e(e,n,l){let R=e[Z(n)];R&&l(R)}var de={};function Je({reducerPath:e,queryThunk:n,mutationThunk:l,serializeQueryArgs:R,context:{endpointDefinitions:d,apiUid:x,extractRehydrationInfo:A,hasRehydrationInfo:M},assertTagType:k,config:Q}){let D=H(`${e}/resetApiState`);function p(T,i,c,f){T[i.queryCacheKey]??={status:"uninitialized",endpointName:i.endpointName},he(T,i.queryCacheKey,a=>{a.status="pending",a.requestId=c&&a.requestId?a.requestId:f.requestId,i.originalArgs!==void 0&&(a.originalArgs=i.originalArgs),a.startedTimeStamp=f.startedTimeStamp})}function o(T,i,c,f){he(T,i.arg.queryCacheKey,a=>{if(a.requestId!==i.requestId&&!f)return;let{merge:b}=d[i.arg.endpointName];if(a.status="fulfilled",b)if(a.data!==void 0){let{fulfilledTimeStamp:E,arg:B,baseQueryMeta:P,requestId:v}=i,w=se(a.data,q=>b(q,c,{arg:B.originalArgs,baseQueryMeta:P,fulfilledTimeStamp:E,requestId:v}));a.data=w}else a.data=c;else a.data=d[i.arg.endpointName].structuralSharing??!0?fe(bt(a.data)?Et(a.data):a.data,c):c;delete a.error,a.fulfilledTimeStamp=i.fulfilledTimeStamp})}let r=J({name:`${e}/queries`,initialState:de,reducers:{removeQueryResult:{reducer(T,{payload:{queryCacheKey:i}}){delete T[i]},prepare:ne()},cacheEntriesUpserted:{reducer(T,i){for(let c of i.payload){let{queryDescription:f,value:a}=c;p(T,f,!0,{arg:f,requestId:i.meta.requestId,startedTimeStamp:i.meta.timestamp}),o(T,{arg:f,requestId:i.meta.requestId,fulfilledTimeStamp:i.meta.timestamp,baseQueryMeta:{}},a,!0)}},prepare:T=>({payload:T.map(f=>{let{endpointName:a,arg:b,value:E}=f,B=d[a];return{queryDescription:{type:"query",endpointName:a,originalArgs:f.arg,queryCacheKey:R({queryArgs:b,endpointDefinition:B,endpointName:a})},value:E}}),meta:{[Y]:!0,requestId:le(),timestamp:Date.now()}})},queryResultPatched:{reducer(T,{payload:{queryCacheKey:i,patches:c}}){he(T,i,f=>{f.data=We(f.data,c.concat())})},prepare:ne()}},extraReducers(T){T.addCase(n.pending,(i,{meta:c,meta:{arg:f}})=>{let a=ye(f);p(i,f,a,c)}).addCase(n.fulfilled,(i,{meta:c,payload:f})=>{let a=ye(c.arg);o(i,c,f,a)}).addCase(n.rejected,(i,{meta:{condition:c,arg:f,requestId:a},error:b,payload:E})=>{he(i,f.queryCacheKey,B=>{if(!c){if(B.requestId!==a)return;B.status="rejected",B.error=E??b}})}).addMatcher(M,(i,c)=>{let{queries:f}=A(c);for(let[a,b]of Object.entries(f))(b?.status==="fulfilled"||b?.status==="rejected")&&(i[a]=b)})}}),g=J({name:`${e}/mutations`,initialState:de,reducers:{removeMutationResult:{reducer(T,{payload:i}){let c=Z(i);c in T&&delete T[c]},prepare:ne()}},extraReducers(T){T.addCase(l.pending,(i,{meta:c,meta:{requestId:f,arg:a,startedTimeStamp:b}})=>{a.track&&(i[Z(c)]={requestId:f,status:"pending",endpointName:a.endpointName,startedTimeStamp:b})}).addCase(l.fulfilled,(i,{payload:c,meta:f})=>{f.arg.track&&$e(i,f,a=>{a.requestId===f.requestId&&(a.status="fulfilled",a.data=c,a.fulfilledTimeStamp=f.fulfilledTimeStamp)})}).addCase(l.rejected,(i,{payload:c,error:f,meta:a})=>{a.arg.track&&$e(i,a,b=>{b.requestId===a.requestId&&(b.status="rejected",b.error=c??f)})}).addMatcher(M,(i,c)=>{let{mutations:f}=A(c);for(let[a,b]of Object.entries(f))(b?.status==="fulfilled"||b?.status==="rejected")&&a!==b?.requestId&&(i[a]=b)})}}),s=J({name:`${e}/invalidation`,initialState:de,reducers:{updateProvidedBy:{reducer(T,i){let{queryCacheKey:c,providedTags:f}=i.payload;for(let a of Object.values(T))for(let b of Object.values(a)){let E=b.indexOf(c);E!==-1&&b.splice(E,1)}for(let{type:a,id:b}of f){let E=(T[a]??={})[b||"__internal_without_id"]??=[];E.includes(c)||E.push(c)}},prepare:ne()}},extraReducers(T){T.addCase(r.actions.removeQueryResult,(i,{payload:{queryCacheKey:c}})=>{for(let f of Object.values(i))for(let a of Object.values(f)){let b=a.indexOf(c);b!==-1&&a.splice(b,1)}}).addMatcher(M,(i,c)=>{let{provided:f}=A(c);for(let[a,b]of Object.entries(f))for(let[E,B]of Object.entries(b)){let P=(i[a]??={})[E||"__internal_without_id"]??=[];for(let v of B)P.includes(v)||P.push(v)}}).addMatcher(G(O(n),te(n)),(i,c)=>{let f=Te(c,"providesTags",d,k),{queryCacheKey:a}=c.meta.arg;s.caseReducers.updateProvidedBy(i,s.actions.updateProvidedBy({queryCacheKey:a,providedTags:f}))})}}),y=J({name:`${e}/subscriptions`,initialState:de,reducers:{updateSubscriptionOptions(T,i){},unsubscribeQueryResult(T,i){},internal_getRTKQSubscriptions(){}}}),u=J({name:`${e}/internalSubscriptions`,initialState:de,reducers:{subscriptionsUpdated:{reducer(T,i){return We(T,i.payload)},prepare:ne()}}}),t=J({name:`${e}/config`,initialState:{online:Oe(),focused:Ie(),middlewareRegistered:!1,...Q},reducers:{middlewareRegistered(T,{payload:i}){T.middlewareRegistered=T.middlewareRegistered==="conflict"||x!==i?"conflict":!0}},extraReducers:T=>{T.addCase(W,i=>{i.online=!0}).addCase(ie,i=>{i.online=!1}).addCase(V,i=>{i.focused=!0}).addCase(re,i=>{i.focused=!1}).addMatcher(M,i=>({...i}))}}),m=ve({queries:r.reducer,mutations:g.reducer,provided:s.reducer,subscriptions:u.reducer,config:t.reducer}),h=(T,i)=>m(D.match(i)?void 0:T,i),S={...t.actions,...r.actions,...y.actions,...u.actions,...g.actions,...s.actions,resetApiState:D};return{reducer:h,actions:S}}var Qe=Symbol.for("RTKQ/skipToken"),Xe={status:"uninitialized"},Ge=se(Xe,()=>{}),Ye=se(Xe,()=>{});function Ze({serializeQueryArgs:e,reducerPath:n,createSelector:l}){let R=p=>Ge,d=p=>Ye;return{buildQuerySelector:M,buildMutationSelector:k,selectInvalidatedBy:Q,selectCachedArgsForQuery:D};function x(p){return{...p,...Be(p.status)}}function A(p){return p[n]}function M(p,o){return r=>{if(r===Qe)return l(R,x);let g=e({queryArgs:r,endpointDefinition:o,endpointName:p});return l(y=>A(y)?.queries?.[g]??Ge,x)}}function k(){return p=>{let o;return typeof p=="object"?o=Z(p)??Qe:o=p,l(o===Qe?d:s=>A(s)?.mutations?.[o]??Ye,x)}}function Q(p,o){let r=p[n],g=new Set;for(let s of o.filter(X).map(me)){let y=r.provided[s.type];if(!y)continue;let u=(s.id!==void 0?y[s.id]:be(Object.values(y)))??[];for(let t of u)g.add(t)}return be(Array.from(g.values()).map(s=>{let y=r.queries[s];return y?[{queryCacheKey:s,endpointName:y.endpointName,originalArgs:y.originalArgs}]:[]}))}function D(p,o){return Object.values(p[n].queries).filter(r=>r?.endpointName===o&&r.status!=="uninitialized").map(r=>r.originalArgs)}}import{formatProdErrorMessage as Mt}from"@reduxjs/toolkit";var et=WeakMap?new WeakMap:void 0,Re=({endpointName:e,queryArgs:n})=>{let l="",R=et?.get(n);if(typeof R=="string")l=R;else{let d=JSON.stringify(n,(x,A)=>(A=typeof A=="bigint"?{$bigint:A.toString()}:A,A=z(A)?Object.keys(A).sort().reduce((M,k)=>(M[k]=A[k],M),{}):A,A));z(n)&&et?.set(n,d),l=d}return`${e}(${l})`};import{weakMapMemoize as tt}from"reselect";function Me(...e){return function(l){let R=tt(Q=>l.extractRehydrationInfo?.(Q,{reducerPath:l.reducerPath??"api"})),d={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...l,extractRehydrationInfo:R,serializeQueryArgs(Q){let D=Re;if("serializeQueryArgs"in Q.endpointDefinition){let p=Q.endpointDefinition.serializeQueryArgs;D=o=>{let r=p(o);return typeof r=="string"?r:Re({...o,queryArgs:r})}}else l.serializeQueryArgs&&(D=l.serializeQueryArgs);return D(Q)},tagTypes:[...l.tagTypes||[]]},x={endpointDefinitions:{},batch(Q){Q()},apiUid:le(),extractRehydrationInfo:R,hasRehydrationInfo:tt(Q=>R(Q)!=null)},A={injectEndpoints:k,enhanceEndpoints({addTagTypes:Q,endpoints:D}){if(Q)for(let p of Q)d.tagTypes.includes(p)||d.tagTypes.push(p);if(D)for(let[p,o]of Object.entries(D))typeof o=="function"?o(x.endpointDefinitions[p]):Object.assign(x.endpointDefinitions[p]||{},o);return A}},M=e.map(Q=>Q.init(A,d,x));function k(Q){let D=Q.endpoints({query:p=>({...p,type:"query"}),mutation:p=>({...p,type:"mutation"})});for(let[p,o]of Object.entries(D)){if(Q.overrideExisting!==!0&&p in x.endpointDefinitions){if(Q.overrideExisting==="throw")throw new Error(Mt(39));typeof process<"u";continue}x.endpointDefinitions[p]=o;for(let r of M)r.injectEndpoint(p,o)}return A}return A.injectEndpoints({endpoints:l.endpoints})}}import{formatProdErrorMessage as kt}from"@reduxjs/toolkit";var Bt=Symbol();function Pt(){return function(){throw new Error(kt(33))}}import{enablePatches as Ft}from"immer";function _(e,...n){return Object.assign(e,...n)}import{produceWithPatches as vt}from"immer";var nt=({api:e,queryThunk:n,internalState:l})=>{let R=`${e.reducerPath}/subscriptions`,d=null,x=null,{updateSubscriptionOptions:A,unsubscribeQueryResult:M}=e.internalActions,k=(r,g)=>{if(A.match(g)){let{queryCacheKey:y,requestId:u,options:t}=g.payload;return r?.[y]?.[u]&&(r[y][u]=t),!0}if(M.match(g)){let{queryCacheKey:y,requestId:u}=g.payload;return r[y]&&delete r[y][u],!0}if(e.internalActions.removeQueryResult.match(g))return delete r[g.payload.queryCacheKey],!0;if(n.pending.match(g)){let{meta:{arg:y,requestId:u}}=g,t=r[y.queryCacheKey]??={};return t[`${u}_running`]={},y.subscribe&&(t[u]=y.subscriptionOptions??t[u]??{}),!0}let s=!1;if(n.fulfilled.match(g)||n.rejected.match(g)){let y=r[g.meta.arg.queryCacheKey]||{},u=`${g.meta.requestId}_running`;s||=!!y[u],delete y[u]}if(n.rejected.match(g)){let{meta:{condition:y,arg:u,requestId:t}}=g;if(y&&u.subscribe){let m=r[u.queryCacheKey]??={};m[t]=u.subscriptionOptions??m[t]??{},s=!0}}return s},Q=()=>l.currentSubscriptions,o={getSubscriptions:Q,getSubscriptionCount:r=>{let s=Q()[r]??{};return j(s)},isRequestSubscribed:(r,g)=>!!Q()?.[r]?.[g]};return(r,g)=>{if(d||(d=JSON.parse(JSON.stringify(l.currentSubscriptions))),e.util.resetApiState.match(r))return d=l.currentSubscriptions={},x=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(r))return[!1,o];let s=k(l.currentSubscriptions,r),y=!0;if(s){x||(x=setTimeout(()=>{let m=JSON.parse(JSON.stringify(l.currentSubscriptions)),[,h]=vt(d,()=>m);g.next(e.internalActions.subscriptionsUpdated(h)),d=m,x=null},500));let u=typeof r.type=="string"&&!!r.type.startsWith(R),t=n.rejected.match(r)&&r.meta.condition&&!!r.meta.arg.subscribe;y=!u&&!t}return[y,!1]}};function Ct(e){for(let n in e)return!1;return!0}var wt=2147483647/1e3-1,rt=({reducerPath:e,api:n,queryThunk:l,context:R,internalState:d})=>{let{removeQueryResult:x,unsubscribeQueryResult:A,cacheEntriesUpserted:M}=n.internalActions,k=G(A.match,l.fulfilled,l.rejected,M.match);function Q(r){let g=d.currentSubscriptions[r];return!!g&&!Ct(g)}let D={},p=(r,g,s)=>{if(k(r)){let y=g.getState()[e],u;if(M.match(r))u=r.payload.map(t=>t.queryDescription.queryCacheKey);else{let{queryCacheKey:t}=A.match(r)?r.payload:r.meta.arg;u=[t]}for(let t of u)o(t,y.queries[t]?.endpointName,g,y.config)}if(n.util.resetApiState.match(r))for(let[y,u]of Object.entries(D))u&&clearTimeout(u),delete D[y];if(R.hasRehydrationInfo(r)){let y=g.getState()[e],{queries:u}=R.extractRehydrationInfo(r);for(let[t,m]of Object.entries(u))o(t,m?.endpointName,g,y.config)}};function o(r,g,s,y){let t=R.endpointDefinitions[g]?.keepUnusedDataFor??y.keepUnusedDataFor;if(t===1/0)return;let m=Math.max(0,Math.min(t,wt));if(!Q(r)){let h=D[r];h&&clearTimeout(h),D[r]=setTimeout(()=>{Q(r)||s.dispatch(x({queryCacheKey:r})),delete D[r]},m*1e3)}}return p};var it=new Error("Promise never resolved before cacheEntryRemoved."),ot=({api:e,reducerPath:n,context:l,queryThunk:R,mutationThunk:d,internalState:x})=>{let A=De(R),M=De(d),k=O(R,d),Q={};function D(s,y,u){let t=Q[s];t?.valueResolved&&(t.valueResolved({data:y,meta:u}),delete t.valueResolved)}function p(s){let y=Q[s];y&&(delete Q[s],y.cacheEntryRemoved())}let o=(s,y,u)=>{let t=r(s);function m(h,S,T,i){let c=u[n].queries[S],f=y.getState()[n].queries[S];!c&&f&&g(h,i,S,y,T)}if(R.pending.match(s))m(s.meta.arg.endpointName,t,s.meta.requestId,s.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(s))for(let{queryDescription:h,value:S}of s.payload){let{endpointName:T,originalArgs:i,queryCacheKey:c}=h;m(T,c,s.meta.requestId,i),D(c,S,{})}else if(d.pending.match(s))y.getState()[n].mutations[t]&&g(s.meta.arg.endpointName,s.meta.arg.originalArgs,t,y,s.meta.requestId);else if(k(s))D(t,s.payload,s.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(s)||e.internalActions.removeMutationResult.match(s))p(t);else if(e.util.resetApiState.match(s))for(let h of Object.keys(Q))p(h)};function r(s){return A(s)?s.meta.arg.queryCacheKey:M(s)?s.meta.arg.fixedCacheKey??s.meta.requestId:e.internalActions.removeQueryResult.match(s)?s.payload.queryCacheKey:e.internalActions.removeMutationResult.match(s)?Z(s.payload):""}function g(s,y,u,t,m){let h=l.endpointDefinitions[s],S=h?.onCacheEntryAdded;if(!S)return;let T={},i=new Promise(B=>{T.cacheEntryRemoved=B}),c=Promise.race([new Promise(B=>{T.valueResolved=B}),i.then(()=>{throw it})]);c.catch(()=>{}),Q[u]=T;let f=e.endpoints[s].select(h.type==="query"?y:u),a=t.dispatch((B,P,v)=>v),b={...t,getCacheEntry:()=>f(t.getState()),requestId:m,extra:a,updateCachedData:h.type==="query"?B=>t.dispatch(e.util.updateQueryData(s,y,B)):void 0,cacheDataLoaded:c,cacheEntryRemoved:i},E=S(y,b);Promise.resolve(E).catch(B=>{if(B!==it)throw B})}return o};var at=({api:e,context:{apiUid:n},reducerPath:l})=>(R,d)=>{e.util.resetApiState.match(R)&&d.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"};var st=({reducerPath:e,context:n,context:{endpointDefinitions:l},mutationThunk:R,queryThunk:d,api:x,assertTagType:A,refetchQuery:M,internalState:k})=>{let{removeQueryResult:Q}=x.internalActions,D=G(O(R),te(R)),p=G(O(R,d),ee(R,d)),o=[],r=(y,u)=>{D(y)?s(Te(y,"invalidatesTags",l,A),u):p(y)?s([],u):x.util.invalidateTags.match(y)&&s(ue(y.payload,void 0,void 0,void 0,void 0,A),u)};function g(y){for(let u in y.queries)if(y.queries[u]?.status==="pending")return!0;for(let u in y.mutations)if(y.mutations[u]?.status==="pending")return!0;return!1}function s(y,u){let t=u.getState(),m=t[e];if(o.push(...y),m.config.invalidationBehavior==="delayed"&&g(m))return;let h=o;if(o=[],h.length===0)return;let S=x.util.selectInvalidatedBy(t,h);n.batch(()=>{let T=Array.from(S.values());for(let{queryCacheKey:i}of T){let c=m.queries[i],f=k.currentSubscriptions[i]??{};c&&(j(f)===0?u.dispatch(Q({queryCacheKey:i})):c.status!=="uninitialized"&&u.dispatch(M(c)))}})}return r};var ut=({reducerPath:e,queryThunk:n,api:l,refetchQuery:R,internalState:d})=>{let x={},A=(o,r)=>{(l.internalActions.updateSubscriptionOptions.match(o)||l.internalActions.unsubscribeQueryResult.match(o))&&k(o.payload,r),(n.pending.match(o)||n.rejected.match(o)&&o.meta.condition)&&k(o.meta.arg,r),(n.fulfilled.match(o)||n.rejected.match(o)&&!o.meta.condition)&&M(o.meta.arg,r),l.util.resetApiState.match(o)&&D()};function M({queryCacheKey:o},r){let g=r.getState()[e],s=g.queries[o],y=d.currentSubscriptions[o];if(!s||s.status==="uninitialized")return;let{lowestPollingInterval:u,skipPollingIfUnfocused:t}=p(y);if(!Number.isFinite(u))return;let m=x[o];m?.timeout&&(clearTimeout(m.timeout),m.timeout=void 0);let h=Date.now()+u;x[o]={nextPollTimestamp:h,pollingInterval:u,timeout:setTimeout(()=>{(g.config.focused||!t)&&r.dispatch(R(s)),M({queryCacheKey:o},r)},u)}}function k({queryCacheKey:o},r){let s=r.getState()[e].queries[o],y=d.currentSubscriptions[o];if(!s||s.status==="uninitialized")return;let{lowestPollingInterval:u}=p(y);if(!Number.isFinite(u)){Q(o);return}let t=x[o],m=Date.now()+u;(!t||m<t.nextPollTimestamp)&&M({queryCacheKey:o},r)}function Q(o){let r=x[o];r?.timeout&&clearTimeout(r.timeout),delete x[o]}function D(){for(let o of Object.keys(x))Q(o)}function p(o={}){let r=!1,g=Number.POSITIVE_INFINITY;for(let s in o)o[s].pollingInterval&&(g=Math.min(o[s].pollingInterval,g),r=o[s].skipPollingIfUnfocused||r);return{lowestPollingInterval:g,skipPollingIfUnfocused:r}}return A};var yt=({api:e,context:n,queryThunk:l,mutationThunk:R})=>{let d=ce(l,R),x=ee(l,R),A=O(l,R),M={};return(Q,D)=>{if(d(Q)){let{requestId:p,arg:{endpointName:o,originalArgs:r}}=Q.meta,g=n.endpointDefinitions[o],s=g?.onQueryStarted;if(s){let y={},u=new Promise((S,T)=>{y.resolve=S,y.reject=T});u.catch(()=>{}),M[p]=y;let t=e.endpoints[o].select(g.type==="query"?r:p),m=D.dispatch((S,T,i)=>i),h={...D,getCacheEntry:()=>t(D.getState()),requestId:p,extra:m,updateCachedData:g.type==="query"?S=>D.dispatch(e.util.updateQueryData(o,r,S)):void 0,queryFulfilled:u};s(r,h)}}else if(A(Q)){let{requestId:p,baseQueryMeta:o}=Q.meta;M[p]?.resolve({data:Q.payload,meta:o}),delete M[p]}else if(x(Q)){let{requestId:p,rejectedWithValue:o,baseQueryMeta:r}=Q.meta;M[p]?.reject({error:Q.payload??Q.error,isUnhandledError:!o,meta:r}),delete M[p]}}};var dt=({reducerPath:e,context:n,api:l,refetchQuery:R,internalState:d})=>{let{removeQueryResult:x}=l.internalActions,A=(k,Q)=>{V.match(k)&&M(Q,"refetchOnFocus"),W.match(k)&&M(Q,"refetchOnReconnect")};function M(k,Q){let D=k.getState()[e],p=D.queries,o=d.currentSubscriptions;n.batch(()=>{for(let r of Object.keys(o)){let g=p[r],s=o[r];if(!s||!g)continue;(Object.values(s).some(u=>u[Q]===!0)||Object.values(s).every(u=>u[Q]===void 0)&&D.config[Q])&&(j(s)===0?k.dispatch(x({queryCacheKey:r})):g.status!=="uninitialized"&&k.dispatch(R(g)))}})}return A};function pt(e){let{reducerPath:n,queryThunk:l,api:R,context:d}=e,{apiUid:x}=d,A={invalidateTags:H(`${n}/invalidateTags`)},M=p=>p.type.startsWith(`${n}/`),k=[at,rt,st,ut,ot,yt];return{middleware:p=>{let o=!1,g={...e,internalState:{currentSubscriptions:{}},refetchQuery:D,isThisApiSliceAction:M},s=k.map(t=>t(g)),y=nt(g),u=dt(g);return t=>m=>{if(!Ce(m))return t(m);o||(o=!0,p.dispatch(R.internalActions.middlewareRegistered(x)));let h={...p,next:t},S=p.getState(),[T,i]=y(m,h,S),c;if(T?c=t(m):c=i,p.getState()[n]&&(u(m,h,S),M(m)||d.hasRehydrationInfo(m)))for(let f of s)f(m,h,S);return c}},actions:A};function D(p){return e.api.endpoints[p.endpointName].initiate(p.originalArgs,{subscribe:!1,forceRefetch:!0})}}var xe=Symbol(),ke=({createSelector:e=Pe}={})=>({name:xe,init(n,{baseQuery:l,tagTypes:R,reducerPath:d,serializeQueryArgs:x,keepUnusedDataFor:A,refetchOnMountOrArgChange:M,refetchOnFocus:k,refetchOnReconnect:Q,invalidationBehavior:D},p){Ft();let o=C=>(typeof process<"u",C);Object.assign(n,{reducerPath:d,endpoints:{},internalActions:{onOnline:W,onOffline:ie,onFocus:V,onFocusLost:re},util:{}});let{queryThunk:r,mutationThunk:g,patchQueryData:s,updateQueryData:y,upsertQueryData:u,prefetch:t,buildMatchThunkActions:m}=Ve({baseQuery:l,reducerPath:d,context:p,api:n,serializeQueryArgs:x,assertTagType:o}),{reducer:h,actions:S}=Je({context:p,queryThunk:r,mutationThunk:g,serializeQueryArgs:x,reducerPath:d,assertTagType:o,config:{refetchOnFocus:k,refetchOnReconnect:Q,refetchOnMountOrArgChange:M,keepUnusedDataFor:A,reducerPath:d,invalidationBehavior:D}});_(n.util,{patchQueryData:s,updateQueryData:y,upsertQueryData:u,prefetch:t,resetApiState:S.resetApiState,upsertQueryEntries:S.cacheEntriesUpserted}),_(n.internalActions,S);let{middleware:T,actions:i}=pt({reducerPath:d,context:p,queryThunk:r,mutationThunk:g,api:n,assertTagType:o});_(n.util,i),_(n,{reducer:h,middleware:T});let{buildQuerySelector:c,buildMutationSelector:f,selectInvalidatedBy:a,selectCachedArgsForQuery:b}=Ze({serializeQueryArgs:x,reducerPath:d,createSelector:e});_(n.util,{selectInvalidatedBy:a,selectCachedArgsForQuery:b});let{buildInitiateQuery:E,buildInitiateMutation:B,getRunningMutationThunk:P,getRunningMutationsThunk:v,getRunningQueriesThunk:w,getRunningQueryThunk:q}=_e({queryThunk:r,mutationThunk:g,api:n,serializeQueryArgs:x,context:p});return _(n.util,{getRunningMutationThunk:P,getRunningMutationsThunk:v,getRunningQueryThunk:q,getRunningQueriesThunk:w}),{name:xe,injectEndpoint(C,N){let K=n;K.endpoints[C]??={},ge(N)?_(K.endpoints[C],{name:C,select:c(C,N),initiate:E(C,N)},m(r,C)):Le(N)&&_(K.endpoints[C],{name:C,select:f(),initiate:B(C)},m(g,C))}}}});var It=Me(ke());export{Se as QueryStatus,Bt as _NEVER,Me as buildCreateApi,fe as copyWithStructuralSharing,ke as coreModule,xe as coreModuleName,It as createApi,Re as defaultSerializeQueryArgs,Pt as fakeBaseQuery,gt as fetchBaseQuery,Rt as retry,xt as setupListeners,Qe as skipToken};
//# sourceMappingURL=rtk-query.browser.mjs.map